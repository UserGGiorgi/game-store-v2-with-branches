2025-07-05 18:50:08.208 +04:00 [INF] Starting request: GET /swagger/v1/swagger.json from ::1
2025-07-05 18:50:09.647 +04:00 [INF] Completed request: GET /swagger/v1/swagger.json - Status: 200 - Time: 1444ms
2025-07-05 18:50:09.649 +04:00 [INF] Starting request: GET /swagger/v1/swagger.json from ::1
2025-07-05 18:50:09.680 +04:00 [INF] Completed request: GET /swagger/v1/swagger.json - Status: 200 - Time: 31ms
2025-07-05 18:50:22.440 +04:00 [INF] Starting request: GET /games/far/comments from ::1
2025-07-05 18:50:22.636 +04:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-05 18:50:22.781 +04:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-05 18:50:22.813 +04:00 [INF] Completed request: GET /games/far/comments - Status: 200 - Time: 372ms
2025-07-05 18:51:02.154 +04:00 [INF] Starting request: POST /games/far/comments from ::1
2025-07-05 18:51:05.870 +04:00 [INF] Completed request: POST /games/far/comments - Status: 201 - Time: 3716ms
2025-07-05 18:51:12.461 +04:00 [INF] Starting request: GET /games/far/comments from ::1
2025-07-05 18:51:12.475 +04:00 [INF] Completed request: GET /games/far/comments - Status: 200 - Time: 14ms
2025-07-05 18:51:23.066 +04:00 [INF] Starting request: POST /games/far/comments from ::1
2025-07-05 18:51:27.044 +04:00 [ERR] Exception Details: Type: UnauthorizedException, Message: User is banned from commenting
Microsoft.Azure.ServiceBus.UnauthorizedException: User is banned from commenting
   at GameStore.Application.Services.CommentService.AddCommentAsync(String gameKey, AddCommentRequestDto dto) in C:\Users\Giorgi\Source\Repos\game-store-v2-with-branches\src\GameStore.Application\Services\CommentService.cs:line 38
   at GameStore.Api.Controllers.CommentsController.AddComment(String key, AddCommentRequestDto dto) in C:\Users\Giorgi\Source\Repos\game-store-v2-with-branches\src\GameStore.Api\Controllers\CommentsController.cs:line 41
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GameStore.Web.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\Giorgi\Source\Repos\game-store-v2-with-branches\src\GameStore.Shared\Middleware\ExceptionHandlingMiddleware.cs:line 30
2025-07-05 18:51:27.094 +04:00 [INF] Completed request: POST /games/far/comments - Status: 500 - Time: 4028ms
2025-07-05 18:51:44.313 +04:00 [INF] Starting request: POST /games/far/comments from ::1
2025-07-05 18:51:50.334 +04:00 [ERR] Exception Details: Type: UnauthorizedException, Message: User is banned from commenting
Microsoft.Azure.ServiceBus.UnauthorizedException: User is banned from commenting
   at GameStore.Application.Services.CommentService.AddCommentAsync(String gameKey, AddCommentRequestDto dto) in C:\Users\Giorgi\Source\Repos\game-store-v2-with-branches\src\GameStore.Application\Services\CommentService.cs:line 38
   at GameStore.Api.Controllers.CommentsController.AddComment(String key, AddCommentRequestDto dto) in C:\Users\Giorgi\Source\Repos\game-store-v2-with-branches\src\GameStore.Api\Controllers\CommentsController.cs:line 41
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GameStore.Web.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\Giorgi\Source\Repos\game-store-v2-with-branches\src\GameStore.Shared\Middleware\ExceptionHandlingMiddleware.cs:line 30
2025-07-05 18:51:50.335 +04:00 [INF] Completed request: POST /games/far/comments - Status: 500 - Time: 6022ms
2025-07-05 18:55:15.999 +04:00 [INF] Starting request: GET /swagger/v1/swagger.json from ::1
2025-07-05 18:55:17.071 +04:00 [INF] Completed request: GET /swagger/v1/swagger.json - Status: 200 - Time: 1076ms
2025-07-05 18:55:22.877 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 18:55:23.141 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 264ms
2025-07-05 18:55:29.965 +04:00 [INF] Starting request: POST /games/far/buy from ::1
2025-07-05 18:55:30.167 +04:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-05 18:55:30.221 +04:00 [INF] Added game far to cart for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a"
2025-07-05 18:55:30.258 +04:00 [INF] Completed request: POST /games/far/buy - Status: 200 - Time: 292ms
2025-07-05 18:55:33.023 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 18:55:33.047 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 23ms
2025-07-05 19:03:03.499 +04:00 [INF] Starting request: POST /orders/payment from ::1
2025-07-05 19:03:03.547 +04:00 [INF] Processing payment for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a" with method ibox terminal
2025-07-05 19:03:07.814 +04:00 [ERR] Payment processing failed
System.Net.Http.HttpRequestException: No connection could be made because the target machine actively refused it. (localhost:5001)
 ---> System.Net.Sockets.SocketException (10061): No connection could be made because the target machine actively refused it.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|285_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionWithTelemetryAsync(HttpRequestMessage request, HttpConnectionPool pool, Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at Microsoft.Extensions.Http.Logging.LoggingHttpMessageHandler.<SendCoreAsync>g__Core|5_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)
   at Microsoft.Extensions.Http.Logging.LoggingScopeHttpMessageHandler.<SendCoreAsync>g__Core|5_0(HttpRequestMessage request, Boolean useAsync, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at GameStore.Application.Services.Payment.BoxPaymentService.PayAsync(Order order, Guid userId, IPaymentModel model) in C:\Users\Giorgi\Source\Repos\game-store-v2-with-branches\src\GameStore.Application\Services\Payment\BoxPaymentService.cs:line 41
   at GameStore.Application.Services.Payment.PaymentProcessingService.ProcessPaymentAsync(Guid userId, PaymentRequestDto request) in C:\Users\Giorgi\Source\Repos\game-store-v2-with-branches\src\GameStore.Application\Services\Payment\PaymentProcessingService.cs:line 60
2025-07-05 19:03:07.847 +04:00 [INF] Cancelled order "79481601-9b16-42ba-b224-d4a4c1c3c85d"
2025-07-05 19:03:07.847 +04:00 [INF] Order "79481601-9b16-42ba-b224-d4a4c1c3c85d" cancelled due to payment failure
2025-07-05 19:03:07.848 +04:00 [INF] Completed request: POST /orders/payment - Status: 500 - Time: 4348ms
2025-07-05 19:07:00.602 +04:00 [INF] Starting request: POST /orders/payment from ::1
2025-07-05 19:07:00.614 +04:00 [INF] Processing payment for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a" with method ibox terminal
2025-07-05 19:07:00.616 +04:00 [INF] Completed request: POST /orders/payment - Status: 400 - Time: 13ms
2025-07-05 19:07:14.127 +04:00 [INF] Starting request: POST /games/far/buy from ::1
2025-07-05 19:07:14.133 +04:00 [INF] Added game far to cart for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a"
2025-07-05 19:07:14.134 +04:00 [INF] Completed request: POST /games/far/buy - Status: 200 - Time: 6ms
2025-07-05 19:07:19.417 +04:00 [INF] Starting request: POST /orders/payment from ::1
2025-07-05 19:07:19.419 +04:00 [INF] Processing payment for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a" with method ibox terminal
2025-07-05 19:07:19.422 +04:00 [INF] Completed request: POST /orders/payment - Status: 400 - Time: 4ms
2025-07-05 19:07:23.076 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 19:07:23.079 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 3ms
2025-07-05 19:07:26.636 +04:00 [INF] Starting request: POST /games/far/buy from ::1
2025-07-05 19:07:26.640 +04:00 [INF] Added game far to cart for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a"
2025-07-05 19:07:26.641 +04:00 [INF] Completed request: POST /games/far/buy - Status: 200 - Time: 4ms
2025-07-05 19:07:28.305 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 19:07:28.308 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 3ms
2025-07-05 19:07:40.355 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 19:07:40.358 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 2ms
2025-07-05 19:08:23.740 +04:00 [INF] Starting request: POST /games/key123/buy from ::1
2025-07-05 19:08:23.748 +04:00 [INF] Added game key123 to cart for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a"
2025-07-05 19:08:23.748 +04:00 [INF] Completed request: POST /games/key123/buy - Status: 200 - Time: 9ms
2025-07-05 19:08:28.610 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 19:08:28.613 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 2ms
2025-07-05 19:08:29.353 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 19:08:29.356 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 3ms
2025-07-05 19:08:56.446 +04:00 [INF] Starting request: GET /swagger/v1/swagger.json from ::1
2025-07-05 19:08:57.526 +04:00 [INF] Completed request: GET /swagger/v1/swagger.json - Status: 200 - Time: 1084ms
2025-07-05 19:09:04.014 +04:00 [INF] Starting request: POST /games/far/buy from ::1
2025-07-05 19:09:32.861 +04:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-05 19:10:28.518 +04:00 [INF] Added game far to cart for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a"
2025-07-05 19:10:28.554 +04:00 [INF] Completed request: POST /games/far/buy - Status: 200 - Time: 84540ms
2025-07-05 19:10:34.120 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 19:10:34.173 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 53ms
2025-07-05 19:11:14.638 +04:00 [INF] Starting request: POST /orders/payment from ::1
2025-07-05 19:11:14.662 +04:00 [INF] Processing payment for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a" with method ibox terminal
2025-07-05 19:11:15.081 +04:00 [INF] Completed order "b03a09f9-bdd6-484e-bfe1-79ffe05bb7c0"
2025-07-05 19:11:15.081 +04:00 [INF] Payment successful for order "b03a09f9-bdd6-484e-bfe1-79ffe05bb7c0"
2025-07-05 19:11:15.087 +04:00 [INF] Completed request: POST /orders/payment - Status: 200 - Time: 448ms
2025-07-05 19:17:08.117 +04:00 [INF] Starting request: POST /games/far/buy from ::1
2025-07-05 19:17:26.369 +04:00 [INF] Added game far to cart for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a"
2025-07-05 19:17:26.370 +04:00 [INF] Completed request: POST /games/far/buy - Status: 200 - Time: 18252ms
2025-07-05 19:17:30.487 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 19:17:30.494 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 6ms
2025-07-05 19:39:01.264 +04:00 [INF] Starting request: GET /swagger/v1/swagger.json from ::1
2025-07-05 19:39:02.362 +04:00 [INF] Completed request: GET /swagger/v1/swagger.json - Status: 200 - Time: 1101ms
2025-07-05 19:39:13.003 +04:00 [INF] Starting request: POST /games/far/buy from ::1
2025-07-05 19:39:21.090 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 19:39:21.271 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 180ms
2025-07-05 19:39:21.419 +04:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-05 19:39:21.478 +04:00 [INF] Added game far to cart for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a"
2025-07-05 19:39:21.514 +04:00 [INF] Completed request: POST /games/far/buy - Status: 200 - Time: 8510ms
2025-07-05 19:39:24.763 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 19:39:24.789 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 25ms
2025-07-05 19:39:31.042 +04:00 [INF] Starting request: POST /games/key123/buy from ::1
2025-07-05 19:39:32.345 +04:00 [INF] Added game key123 to cart for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a"
2025-07-05 19:39:32.346 +04:00 [INF] Completed request: POST /games/key123/buy - Status: 200 - Time: 1303ms
2025-07-05 19:39:35.302 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 19:39:35.308 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 5ms
2025-07-05 19:40:11.469 +04:00 [INF] Starting request: POST /games/key123/buy from ::1
2025-07-05 19:41:32.799 +04:00 [INF] Added game key123 to cart for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a"
2025-07-05 19:41:39.632 +04:00 [INF] Completed request: POST /games/key123/buy - Status: 200 - Time: 88162ms
2025-07-05 19:41:44.144 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 19:41:44.148 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 3ms
2025-07-05 19:42:20.765 +04:00 [INF] Starting request: POST /orders/payment from ::1
2025-07-05 19:42:20.796 +04:00 [INF] Processing payment for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a" with method ibox terminal
2025-07-05 19:45:28.776 +04:00 [INF] Starting request: GET /swagger/v1/swagger.json from ::1
2025-07-05 19:45:29.858 +04:00 [INF] Completed request: GET /swagger/v1/swagger.json - Status: 200 - Time: 1085ms
2025-07-05 19:45:37.424 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 19:45:37.848 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 424ms
2025-07-05 19:45:49.147 +04:00 [INF] Starting request: POST /orders/payment from ::1
2025-07-05 19:45:49.190 +04:00 [INF] Processing payment for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a" with method ibox terminal
2025-07-05 19:45:52.427 +04:00 [INF] Payment response: {"accountNumber":"00000000-0000-0000-0000-000000000000","invoiceNumber":"00000000-0000-0000-0000-000000000000","paymentMethod":1,"accountId":"00000000-0000-0000-0000-000000000000","amount":0.0}
2025-07-05 20:14:49.068 +04:00 [INF] Starting request: GET /swagger/v1/swagger.json from ::1
2025-07-05 20:14:50.167 +04:00 [INF] Completed request: GET /swagger/v1/swagger.json - Status: 200 - Time: 1102ms
2025-07-05 20:14:56.079 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 20:14:56.407 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 328ms
2025-07-05 20:15:30.075 +04:00 [INF] Starting request: POST /orders/payment from ::1
2025-07-05 20:15:30.116 +04:00 [INF] Processing payment for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a" with method ibox payment
2025-07-05 20:15:30.174 +04:00 [WRN] Invalid payment method
System.ArgumentException: Invalid payment method
   at GameStore.Application.Services.Payment.PaymentProcessingService.CreatePaymentModel(PaymentRequestDto request) in C:\Users\Giorgi\Source\Repos\game-store-v2-with-branches\src\GameStore.Application\Services\Payment\PaymentProcessingService.cs:line 106
   at GameStore.Application.Services.Payment.PaymentProcessingService.ProcessPaymentAsync(Guid userId, PaymentRequestDto request) in C:\Users\Giorgi\Source\Repos\game-store-v2-with-branches\src\GameStore.Application\Services\Payment\PaymentProcessingService.cs:line 57
2025-07-05 20:15:30.197 +04:00 [INF] Completed request: POST /orders/payment - Status: 400 - Time: 121ms
2025-07-05 20:15:44.730 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 20:15:44.737 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 7ms
2025-07-05 20:15:46.371 +04:00 [INF] Starting request: POST /orders/payment from ::1
2025-07-05 20:15:46.373 +04:00 [INF] Processing payment for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a" with method ibox terminal
2025-07-05 20:16:23.293 +04:00 [INF] Payment response: {"accountNumber":"00000000-0000-0000-0000-000000000000","invoiceNumber":"00000000-0000-0000-0000-000000000000","paymentMethod":1,"accountId":"00000000-0000-0000-0000-000000000000","amount":0.0}
2025-07-05 20:16:43.180 +04:00 [INF] Starting request: GET /swagger/v1/swagger.json from ::1
2025-07-05 20:16:44.313 +04:00 [INF] Completed request: GET /swagger/v1/swagger.json - Status: 200 - Time: 1137ms
2025-07-05 20:16:49.146 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 20:16:49.534 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 388ms
2025-07-05 20:16:54.037 +04:00 [INF] Starting request: POST /orders/payment from ::1
2025-07-05 20:16:54.079 +04:00 [INF] Processing payment for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a" with method ibox terminal
2025-07-05 20:18:23.143 +04:00 [INF] Payment response: {"accountNumber":"00000000-0000-0000-0000-000000000000","invoiceNumber":"00000000-0000-0000-0000-000000000000","paymentMethod":1,"accountId":"00000000-0000-0000-0000-000000000000","amount":0.0}
2025-07-05 20:18:48.323 +04:00 [INF] Completed order "9dbeb89e-7c10-409c-8fe4-d9a93ac8179b"
2025-07-05 20:18:48.324 +04:00 [INF] Payment successful for order "9dbeb89e-7c10-409c-8fe4-d9a93ac8179b"
2025-07-05 20:18:48.329 +04:00 [INF] Completed request: POST /orders/payment - Status: 200 - Time: 114291ms
2025-07-05 20:50:03.040 +04:00 [INF] Starting request: GET /swagger/v1/swagger.json from ::1
2025-07-05 20:50:04.166 +04:00 [INF] Completed request: GET /swagger/v1/swagger.json - Status: 200 - Time: 1129ms
2025-07-05 20:50:09.702 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 20:50:09.962 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 259ms
2025-07-05 20:50:14.434 +04:00 [INF] Starting request: POST /games/far/buy from ::1
2025-07-05 20:50:18.392 +04:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-05 20:50:18.440 +04:00 [INF] Added game far to cart for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a"
2025-07-05 20:50:18.473 +04:00 [INF] Completed request: POST /games/far/buy - Status: 200 - Time: 4039ms
2025-07-05 20:50:22.258 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 20:50:22.277 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 18ms
2025-07-05 20:50:31.990 +04:00 [INF] Starting request: POST /orders/payment from ::1
2025-07-05 20:50:32.018 +04:00 [INF] Processing payment for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a" with method ibox terminal
2025-07-05 20:51:01.416 +04:00 [INF] Payment response: {"accountNumber":"00000000-0000-0000-0000-000000000000","invoiceNumber":"00000000-0000-0000-0000-000000000000","paymentMethod":1,"accountId":"00000000-0000-0000-0000-000000000000","amount":0.0}
2025-07-05 20:51:17.221 +04:00 [INF] Completed order "10e4cb85-3e81-40de-a590-5b3dc6e0ed57"
2025-07-05 20:51:17.221 +04:00 [INF] Payment successful for order "10e4cb85-3e81-40de-a590-5b3dc6e0ed57"
2025-07-05 20:51:17.227 +04:00 [INF] Completed request: POST /orders/payment - Status: 200 - Time: 45236ms
2025-07-05 21:11:17.829 +04:00 [INF] Starting request: GET /swagger/v1/swagger.json from ::1
2025-07-05 21:11:18.971 +04:00 [INF] Completed request: GET /swagger/v1/swagger.json - Status: 200 - Time: 1146ms
2025-07-05 21:11:23.969 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 21:11:24.230 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 261ms
2025-07-05 21:11:28.406 +04:00 [INF] Starting request: POST /games/far/buy from ::1
2025-07-05 21:11:30.931 +04:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-05 21:11:30.982 +04:00 [INF] Added game far to cart for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a"
2025-07-05 21:11:31.018 +04:00 [INF] Completed request: POST /games/far/buy - Status: 200 - Time: 2612ms
2025-07-05 21:11:34.012 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 21:11:34.035 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 23ms
2025-07-05 21:11:50.100 +04:00 [INF] Starting request: POST /orders/payment from ::1
2025-07-05 21:11:50.132 +04:00 [INF] Processing payment for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a" with method ibox terminal
2025-07-05 21:11:50.251 +04:00 [INF] Payment response: {"accountNumber":"a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a","invoiceNumber":"d5269772-5090-452e-ae4b-990849498a69","paymentMethod":1,"accountId":"a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a","amount":0.0}
2025-07-05 21:11:59.424 +04:00 [INF] Completed order "d5269772-5090-452e-ae4b-990849498a69"
2025-07-05 21:11:59.424 +04:00 [INF] Payment successful for order "d5269772-5090-452e-ae4b-990849498a69"
2025-07-05 21:11:59.429 +04:00 [INF] Completed request: POST /orders/payment - Status: 200 - Time: 9329ms
2025-07-05 21:27:58.949 +04:00 [INF] Starting request: GET /swagger/v1/swagger.json from ::1
2025-07-05 21:28:00.083 +04:00 [INF] Completed request: GET /swagger/v1/swagger.json - Status: 200 - Time: 1137ms
2025-07-05 21:28:03.461 +04:00 [INF] Starting request: GET /Games from ::1
2025-07-05 21:28:03.703 +04:00 [INF] Retrieved 2 games
2025-07-05 21:28:03.714 +04:00 [INF] Retrieved  games
2025-07-05 21:28:03.726 +04:00 [INF] Completed request: GET /Games - Status: 200 - Time: 265ms
2025-07-05 21:28:27.047 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 21:28:27.171 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 124ms
2025-07-05 21:28:33.441 +04:00 [INF] Starting request: POST /games/far/buy from ::1
2025-07-05 21:28:40.383 +04:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-05 21:28:40.408 +04:00 [INF] Added game far to cart for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a"
2025-07-05 21:28:40.439 +04:00 [INF] Completed request: POST /games/far/buy - Status: 200 - Time: 6998ms
2025-07-05 21:28:45.456 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 21:28:45.470 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 14ms
2025-07-05 21:28:51.623 +04:00 [INF] Starting request: POST /games/key123/buy from ::1
2025-07-05 21:28:51.629 +04:00 [INF] Added game key123 to cart for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a"
2025-07-05 21:28:51.630 +04:00 [INF] Completed request: POST /games/key123/buy - Status: 200 - Time: 7ms
2025-07-05 21:28:53.609 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 21:28:53.614 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 5ms
2025-07-05 21:29:39.817 +04:00 [INF] Starting request: POST /orders/payment from ::1
2025-07-05 21:29:39.844 +04:00 [INF] Processing payment for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a" with method ibox terminal
2025-07-05 21:29:39.937 +04:00 [INF] Payment response: {"accountNumber":"a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a","invoiceNumber":"b0965c48-9f58-4eee-ac6e-19e9d7a6df5b","paymentMethod":1,"accountId":"a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a","amount":0.0}
2025-07-05 21:29:46.648 +04:00 [INF] Completed order "b0965c48-9f58-4eee-ac6e-19e9d7a6df5b"
2025-07-05 21:29:46.648 +04:00 [INF] Payment successful for order "b0965c48-9f58-4eee-ac6e-19e9d7a6df5b"
2025-07-05 21:29:46.652 +04:00 [INF] Completed request: POST /orders/payment - Status: 200 - Time: 6835ms
2025-07-05 21:29:51.345 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 21:29:51.348 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 3ms
2025-07-05 21:29:54.493 +04:00 [INF] Starting request: POST /games/key123/buy from ::1
2025-07-05 21:29:54.497 +04:00 [INF] Added game key123 to cart for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a"
2025-07-05 21:29:54.497 +04:00 [INF] Completed request: POST /games/key123/buy - Status: 200 - Time: 4ms
2025-07-05 21:29:56.854 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 21:29:56.857 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 3ms
2025-07-05 21:30:00.224 +04:00 [INF] Starting request: POST /games/far/buy from ::1
2025-07-05 21:30:00.228 +04:00 [INF] Added game far to cart for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a"
2025-07-05 21:30:00.228 +04:00 [INF] Completed request: POST /games/far/buy - Status: 200 - Time: 3ms
2025-07-05 21:30:01.720 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 21:30:01.724 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 4ms
2025-07-05 21:46:39.907 +04:00 [INF] Starting request: GET /swagger/v1/swagger.json from ::1
2025-07-05 21:46:41.077 +04:00 [INF] Completed request: GET /swagger/v1/swagger.json - Status: 200 - Time: 1174ms
2025-07-05 21:46:49.785 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 21:46:50.041 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 255ms
2025-07-05 21:46:52.906 +04:00 [INF] Starting request: POST /games/far/buy from ::1
2025-07-05 21:46:53.111 +04:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-05 21:46:53.165 +04:00 [INF] Added game far to cart for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a"
2025-07-05 21:46:53.200 +04:00 [INF] Completed request: POST /games/far/buy - Status: 200 - Time: 294ms
2025-07-05 21:46:56.698 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 21:46:56.715 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 16ms
2025-07-05 21:47:02.221 +04:00 [INF] Starting request: POST /games/key1234/buy from ::1
2025-07-05 21:47:02.327 +04:00 [ERR] Exception Details: Type: NotFoundException, Message: Game not found
GameStore.Domain.Exceptions.NotFoundException: Game not found
   at GameStore.Application.Services.CartService.AddToCartAsync(String gameKey) in C:\Users\Giorgi\Source\Repos\game-store-v2-with-branches\src\GameStore.Application\Services\CartService.cs:line 50
   at GameStore.Api.Controllers.OrdersController.AddToCart(String key) in C:\Users\Giorgi\Source\Repos\game-store-v2-with-branches\src\GameStore.Api\Controllers\OrdersController.cs:line 39
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GameStore.Web.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\Giorgi\Source\Repos\game-store-v2-with-branches\src\GameStore.Shared\Middleware\ExceptionHandlingMiddleware.cs:line 30
2025-07-05 21:47:02.378 +04:00 [INF] Completed request: POST /games/key1234/buy - Status: 404 - Time: 156ms
2025-07-05 21:47:05.047 +04:00 [INF] Starting request: POST /games/key123/buy from ::1
2025-07-05 21:47:05.051 +04:00 [INF] Added game key123 to cart for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a"
2025-07-05 21:47:05.052 +04:00 [INF] Completed request: POST /games/key123/buy - Status: 200 - Time: 5ms
2025-07-05 21:47:06.791 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 21:47:06.795 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 4ms
2025-07-05 21:47:08.629 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 21:47:08.632 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 3ms
2025-07-05 21:47:39.167 +04:00 [INF] Starting request: DELETE /Orders/cart/far from ::1
2025-07-05 21:47:39.182 +04:00 [INF] Removed game far from cart for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a"
2025-07-05 21:47:39.182 +04:00 [INF] Completed request: DELETE /Orders/cart/far - Status: 204 - Time: 15ms
2025-07-05 21:47:40.678 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 21:47:40.684 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 6ms
2025-07-05 21:47:42.014 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 21:47:42.018 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 3ms
2025-07-05 21:47:44.457 +04:00 [INF] Starting request: DELETE /Orders/cart/far from ::1
2025-07-05 21:47:44.467 +04:00 [INF] Removed game far from cart for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a"
2025-07-05 21:47:44.468 +04:00 [INF] Completed request: DELETE /Orders/cart/far - Status: 204 - Time: 10ms
2025-07-05 21:47:45.840 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 21:47:45.844 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 3ms
2025-07-05 21:47:49.617 +04:00 [INF] Starting request: POST /games/key123/buy from ::1
2025-07-05 21:47:49.621 +04:00 [INF] Added game key123 to cart for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a"
2025-07-05 21:47:49.621 +04:00 [INF] Completed request: POST /games/key123/buy - Status: 200 - Time: 4ms
2025-07-05 21:47:52.069 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 21:47:52.073 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 4ms
2025-07-05 21:47:52.763 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 21:47:52.770 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 7ms
2025-07-05 21:48:04.347 +04:00 [INF] Starting request: GET /swagger/v1/swagger.json from ::1
2025-07-05 21:48:05.524 +04:00 [INF] Completed request: GET /swagger/v1/swagger.json - Status: 200 - Time: 1180ms
2025-07-05 21:48:10.288 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 21:48:10.613 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 324ms
2025-07-05 21:48:19.235 +04:00 [INF] Starting request: POST /orders/payment from ::1
2025-07-05 21:48:19.280 +04:00 [INF] Processing payment for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a" with method bank
2025-07-05 21:48:22.064 +04:00 [INF] Completed order "7566b685-a9e6-41d5-886e-4f8e318ab209"
2025-07-05 21:48:22.064 +04:00 [INF] Payment successful for order "7566b685-a9e6-41d5-886e-4f8e318ab209"
2025-07-05 21:48:22.069 +04:00 [INF] Completed request: POST /orders/payment - Status: 200 - Time: 2834ms
2025-07-05 21:48:25.842 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 21:48:25.851 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 8ms
2025-07-05 21:48:32.438 +04:00 [INF] Starting request: POST /games/key123/buy from ::1
2025-07-05 21:48:32.493 +04:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-05 21:48:32.506 +04:00 [INF] Added game key123 to cart for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a"
2025-07-05 21:48:32.521 +04:00 [INF] Completed request: POST /games/key123/buy - Status: 200 - Time: 83ms
2025-07-05 21:48:34.101 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 21:48:34.105 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 4ms
2025-07-05 21:48:45.465 +04:00 [INF] Starting request: POST /orders/payment from ::1
2025-07-05 21:48:45.467 +04:00 [INF] Processing payment for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a" with method bank
2025-07-05 21:48:45.479 +04:00 [INF] Completed order "3aa48777-326c-466d-8ebd-a19026fa4637"
2025-07-05 21:48:45.479 +04:00 [INF] Payment successful for order "3aa48777-326c-466d-8ebd-a19026fa4637"
2025-07-05 21:48:45.480 +04:00 [INF] Completed request: POST /orders/payment - Status: 200 - Time: 14ms
2025-07-05 22:21:18.455 +04:00 [INF] Starting request: GET /swagger/v1/swagger.json from ::1
2025-07-05 22:21:19.662 +04:00 [INF] Completed request: GET /swagger/v1/swagger.json - Status: 200 - Time: 1210ms
2025-07-05 22:21:30.036 +04:00 [INF] Starting request: POST /games/far/buy from ::1
2025-07-05 22:21:30.544 +04:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-05 22:21:30.609 +04:00 [INF] Added game far to cart for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a"
2025-07-05 22:21:30.651 +04:00 [INF] Completed request: POST /games/far/buy - Status: 200 - Time: 614ms
2025-07-05 22:21:34.172 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 22:21:34.236 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 64ms
2025-07-05 22:21:39.451 +04:00 [INF] Starting request: POST /games/key123/buy from ::1
2025-07-05 22:21:39.467 +04:00 [INF] Added game key123 to cart for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a"
2025-07-05 22:21:39.467 +04:00 [INF] Completed request: POST /games/key123/buy - Status: 200 - Time: 15ms
2025-07-05 22:21:40.971 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 22:21:40.976 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 5ms
2025-07-05 22:21:49.790 +04:00 [INF] Starting request: DELETE /Orders/cart/far2 from ::1
2025-07-05 22:21:49.901 +04:00 [ERR] Exception Details: Type: NotFoundException, Message: Game not found
GameStore.Domain.Exceptions.NotFoundException: Game not found
   at GameStore.Application.Services.CartService.RemoveFromCartAsync(String gameKey) in C:\Users\Giorgi\Source\Repos\game-store-v2-with-branches\src\GameStore.Application\Services\CartService.cs:line 93
   at GameStore.Api.Controllers.OrdersController.RemoveFromCart(String key) in C:\Users\Giorgi\Source\Repos\game-store-v2-with-branches\src\GameStore.Api\Controllers\OrdersController.cs:line 46
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GameStore.Web.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\Giorgi\Source\Repos\game-store-v2-with-branches\src\GameStore.Shared\Middleware\ExceptionHandlingMiddleware.cs:line 30
2025-07-05 22:21:49.949 +04:00 [INF] Completed request: DELETE /Orders/cart/far2 - Status: 404 - Time: 159ms
2025-07-05 22:21:52.327 +04:00 [INF] Starting request: DELETE /Orders/cart/far from ::1
2025-07-05 22:21:52.332 +04:00 [INF] Removed game far from cart for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a"
2025-07-05 22:21:52.333 +04:00 [INF] Completed request: DELETE /Orders/cart/far - Status: 204 - Time: 5ms
2025-07-05 22:21:53.686 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 22:21:53.690 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 3ms
2025-07-05 22:21:55.954 +04:00 [INF] Starting request: DELETE /Orders/cart/far from ::1
2025-07-05 22:21:56.026 +04:00 [ERR] Exception Details: Type: NotFoundException, Message: Item not in cart
GameStore.Domain.Exceptions.NotFoundException: Item not in cart
   at GameStore.Application.Services.CartService.RemoveFromCartAsync(String gameKey) in C:\Users\Giorgi\Source\Repos\game-store-v2-with-branches\src\GameStore.Application\Services\CartService.cs:line 98
   at GameStore.Api.Controllers.OrdersController.RemoveFromCart(String key) in C:\Users\Giorgi\Source\Repos\game-store-v2-with-branches\src\GameStore.Api\Controllers\OrdersController.cs:line 46
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at GameStore.Web.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in C:\Users\Giorgi\Source\Repos\game-store-v2-with-branches\src\GameStore.Shared\Middleware\ExceptionHandlingMiddleware.cs:line 30
2025-07-05 22:21:56.027 +04:00 [INF] Completed request: DELETE /Orders/cart/far - Status: 404 - Time: 73ms
2025-07-05 22:21:58.350 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 22:21:58.354 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 4ms
2025-07-05 22:22:13.864 +04:00 [INF] Starting request: POST /orders/payment from ::1
2025-07-05 22:22:13.897 +04:00 [INF] Processing payment for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a" with method bank
2025-07-05 22:22:14.337 +04:00 [INF] Completed order "266f818d-a8f3-40c7-8aa6-3cd4e6c27794"
2025-07-05 22:22:14.337 +04:00 [INF] Payment successful for order "266f818d-a8f3-40c7-8aa6-3cd4e6c27794"
2025-07-05 22:22:14.342 +04:00 [INF] Completed request: POST /orders/payment - Status: 200 - Time: 478ms
2025-07-05 22:22:16.916 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 22:22:16.922 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 6ms
2025-07-05 22:22:21.560 +04:00 [INF] Starting request: POST /games/key123/buy from ::1
2025-07-05 22:22:21.567 +04:00 [INF] Added game key123 to cart for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a"
2025-07-05 22:22:21.569 +04:00 [INF] Completed request: POST /games/key123/buy - Status: 200 - Time: 9ms
2025-07-05 22:22:24.802 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 22:22:24.806 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 3ms
2025-07-05 22:39:26.901 +04:00 [INF] Starting request: GET /swagger/v1/swagger.json from ::1
2025-07-05 22:39:27.989 +04:00 [INF] Completed request: GET /swagger/v1/swagger.json - Status: 200 - Time: 1091ms
2025-07-05 22:39:37.508 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 22:39:37.841 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 332ms
2025-07-05 22:39:49.444 +04:00 [INF] Starting request: POST /games/far/buy from ::1
2025-07-05 22:39:49.500 +04:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-05 22:39:49.531 +04:00 [INF] Added game far to cart for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a"
2025-07-05 22:39:49.624 +04:00 [INF] Completed request: POST /games/far/buy - Status: 200 - Time: 179ms
2025-07-05 22:39:52.400 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 22:39:52.408 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 8ms
2025-07-05 22:40:00.169 +04:00 [INF] Starting request: DELETE /Orders/cart/far from ::1
2025-07-05 22:40:00.198 +04:00 [INF] Removed game far from cart for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a"
2025-07-05 22:40:00.198 +04:00 [INF] Completed request: DELETE /Orders/cart/far - Status: 204 - Time: 28ms
2025-07-05 22:40:02.686 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 22:40:02.694 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 7ms
2025-07-05 22:40:06.194 +04:00 [INF] Starting request: POST /games/far/buy from ::1
2025-07-05 22:40:06.199 +04:00 [INF] Added game far to cart for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a"
2025-07-05 22:40:06.200 +04:00 [INF] Completed request: POST /games/far/buy - Status: 200 - Time: 6ms
2025-07-05 22:40:06.924 +04:00 [INF] Starting request: POST /games/far/buy from ::1
2025-07-05 22:40:06.929 +04:00 [INF] Added game far to cart for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a"
2025-07-05 22:40:06.934 +04:00 [INF] Completed request: POST /games/far/buy - Status: 200 - Time: 10ms
2025-07-05 22:40:10.130 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 22:40:10.135 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 4ms
2025-07-05 22:40:42.663 +04:00 [INF] Starting request: POST /orders/payment from ::1
2025-07-05 22:40:42.688 +04:00 [INF] Processing payment for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a" with method bank
2025-07-05 22:40:43.138 +04:00 [INF] Completed order "ea3778fe-bf80-4992-bbe5-ef3601c853a0"
2025-07-05 22:40:43.139 +04:00 [INF] Payment successful for order "ea3778fe-bf80-4992-bbe5-ef3601c853a0"
2025-07-05 22:40:43.143 +04:00 [INF] Completed request: POST /orders/payment - Status: 200 - Time: 480ms
2025-07-05 22:40:56.765 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 22:40:56.770 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 4ms
2025-07-05 22:41:00.213 +04:00 [INF] Starting request: POST /games/far/buy from ::1
2025-07-05 22:41:00.232 +04:00 [INF] Added game far to cart for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a"
2025-07-05 22:41:00.234 +04:00 [INF] Completed request: POST /games/far/buy - Status: 200 - Time: 20ms
2025-07-05 22:41:02.235 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 22:41:02.239 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 3ms
2025-07-05 22:41:05.036 +04:00 [INF] Starting request: DELETE /Orders/cart/far from ::1
2025-07-05 22:41:05.044 +04:00 [INF] Removed game far from cart for user "a5e6c2d4-1b3f-4a7e-8c9d-0f1e2d3c4b5a"
2025-07-05 22:41:05.044 +04:00 [INF] Completed request: DELETE /Orders/cart/far - Status: 204 - Time: 7ms
2025-07-05 22:41:05.931 +04:00 [INF] Starting request: GET /Orders/cart from ::1
2025-07-05 22:41:05.936 +04:00 [INF] Completed request: GET /Orders/cart - Status: 200 - Time: 5ms
